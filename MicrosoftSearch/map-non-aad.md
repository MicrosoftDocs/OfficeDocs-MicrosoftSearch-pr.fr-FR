---
title: Mappage des identités non AAD
ms.author: monaray
author: monaray97
manager: jameslau
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Procédure de mappage des identités non AAD
ms.openlocfilehash: cd7d0eb17678d69ec1966e4472b38c1f18c30809
ms.sourcegitcommit: 59cdd3f0f82b7918399bf44d27d9891076090f4f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/20/2020
ms.locfileid: "49367657"
---
# <a name="map-your-non-azure-ad-identities"></a><span data-ttu-id="8bbd2-103">Mapper vos identités non Azure AD</span><span class="sxs-lookup"><span data-stu-id="8bbd2-103">Map your non-Azure AD Identities</span></span>  

<span data-ttu-id="8bbd2-104">Cet article vous guide tout au long des étapes de mappage de vos identités non Azure AD à vos identités Azure AD, de sorte que les utilisateurs de votre liste de contrôle d’accès avec des identités non Azure AD puissent voir les résultats de la recherche de connecteur étendues à ceux-ci.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-104">This article walks you through the steps of mapping your non-Azure AD identities to your Azure AD identities so that people in your Access Control List (ACL) with non-Azure AD identities can see connector search results scoped to them.</span></span>

<span data-ttu-id="8bbd2-105">Ces étapes s’appliquent uniquement aux administrateurs de recherche qui configurent un [ServiceNow](servicenow-connector.md) ou un connecteur [Salesforce](salesforce-connector.md) par Microsoft avec des autorisations de recherche pour « uniquement les personnes ayant accès à cette source de données » et le type d’identité « non AAD ».</span><span class="sxs-lookup"><span data-stu-id="8bbd2-105">These steps are only relevant to search administrators who are setting up a [ServiceNow](servicenow-connector.md) or [Salesforce](salesforce-connector.md) connectors by Microsoft with search permissions for "Only people with access to this data source" and identity type "Non-AAD."</span></span>

>[!NOTE]
><span data-ttu-id="8bbd2-106">Si vous configurez un connecteur Salesforce et que vous sélectionnez **uniquement les personnes ayant accès à cette source de données** et le type d’identité **AAD** sur l’écran des autorisations de recherche, reportez-vous à la rubrique mapper votre article d' [identité Azure ad](map-aad.md) pour obtenir la procédure de mappage des identités Azure ad.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-106">If you are setting up a Salesforce connector and select **Only people with access to this data source** and identity type **AAD** on the search permissions screen, refer to the [Map your Azure AD Identities](map-aad.md) article for steps on how to map Azure AD identities.</span></span>  

## <a name="steps-for-mapping-your-non-azure-ad-properties"></a><span data-ttu-id="8bbd2-107">Étapes de mappage de vos propriétés d’annonce non Azure</span><span class="sxs-lookup"><span data-stu-id="8bbd2-107">Steps for mapping your non-Azure AD properties</span></span>

### <a name="1-select-an-azure-ad-user-property"></a><span data-ttu-id="8bbd2-108">1. Sélectionnez une propriété utilisateur Azure AD</span><span class="sxs-lookup"><span data-stu-id="8bbd2-108">1. Select an Azure AD user property</span></span>  

<span data-ttu-id="8bbd2-109">Vous pouvez sélectionner la propriété utilisateur Azure AD pour laquelle vous créez le mappage.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-109">You can select the Azure AD user property you are creating the mapping for.</span></span> <span data-ttu-id="8bbd2-110">Il s’agit de la propriété cible que vous souhaitez mapper à vos identités AD non Azure.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-110">This is the target property you are aiming to map your non-Azure AD identities to.</span></span>  

<span data-ttu-id="8bbd2-111">Vous pouvez sélectionner l’une des propriétés Azure AD suivantes :</span><span class="sxs-lookup"><span data-stu-id="8bbd2-111">You can select one of the following Azure AD properties:</span></span>

| <span data-ttu-id="8bbd2-112">Propriété Azure AD</span><span class="sxs-lookup"><span data-stu-id="8bbd2-112">Azure AD property</span></span>    | <span data-ttu-id="8bbd2-113">Définition</span><span class="sxs-lookup"><span data-stu-id="8bbd2-113">Definition</span></span>           | <span data-ttu-id="8bbd2-114">Exemple</span><span class="sxs-lookup"><span data-stu-id="8bbd2-114">Example</span></span>         |
| :------------------- | :------------------- |:--------------- |
| <span data-ttu-id="8bbd2-115">Nom d’utilisateur principal (UPN)</span><span class="sxs-lookup"><span data-stu-id="8bbd2-115">User Principal Name (UPN)</span></span>  | <span data-ttu-id="8bbd2-116">Un UPN se compose d’un préfixe UPN (le nom du compte d’utilisateur) et d’un suffixe UPN (nom de domaine DNS).</span><span class="sxs-lookup"><span data-stu-id="8bbd2-116">A UPN consists of a UPN prefix (the user account name) and a UPN suffix (a DNS domain name).</span></span> <span data-ttu-id="8bbd2-117">Le préfixe est joint au suffixe en utilisant le symbole « @ ».</span><span class="sxs-lookup"><span data-stu-id="8bbd2-117">The prefix is joined with the suffix using the "@" symbol.</span></span> | <span data-ttu-id="8bbd2-118">us1@contoso.onmicrosoft.com</span><span class="sxs-lookup"><span data-stu-id="8bbd2-118">us1@contoso.onmicrosoft.com</span></span> |
| <span data-ttu-id="8bbd2-119">ID Azure AD</span><span class="sxs-lookup"><span data-stu-id="8bbd2-119">Azure AD ID</span></span>                 | <span data-ttu-id="8bbd2-120">Un ID Azure AD pour un utilisateur donné est le GUID unique de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-120">An Azure AD ID for a given user is the unique GUID of the user.</span></span>                 | <span data-ttu-id="8bbd2-121">58006c96-9e6e-45ea-8c88-4a56851eefad</span><span class="sxs-lookup"><span data-stu-id="8bbd2-121">58006c96-9e6e-45ea-8c88-4a56851eefad</span></span>            |
| <span data-ttu-id="8bbd2-122">ID de sécurité Active Directory (SID)</span><span class="sxs-lookup"><span data-stu-id="8bbd2-122">Active Directory Security ID (SID)</span></span>                  | <span data-ttu-id="8bbd2-123">SID (identificateur de sécurité) est un identificateur unique utilisé par Active Directory pour identifier les objets en tant que principal de sécurité.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-123">SID (Security Identifier) is a unique identifier that Active Directory uses to identify objects as security principal.</span></span>                  | <span data-ttu-id="8bbd2-124">S-1-5-21-453406510-812318184-4183662089</span><span class="sxs-lookup"><span data-stu-id="8bbd2-124">S-1-5-21-453406510-812318184-4183662089</span></span>             |

### <a name="2-select-non-azure-ad-user-properties-to-map"></a><span data-ttu-id="8bbd2-125">2. Sélectionnez les propriétés de l’utilisateur non Azure AD à mapper</span><span class="sxs-lookup"><span data-stu-id="8bbd2-125">2. Select non-Azure AD user properties to map</span></span>

<span data-ttu-id="8bbd2-126">Vous pouvez sélectionner les propriétés non Azure AD extraites de votre source de données pour appliquer des expressions régulières.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-126">You can select non-Azure AD properties pulled from your data source to apply regular expressions on.</span></span> <span data-ttu-id="8bbd2-127">Pour en savoir plus sur l’emplacement de ces propriétés dans votre source de données, voir les pages [ServiceNow](servicenow-connector.md) et [Salesforce](salesforce-connector.md) .</span><span class="sxs-lookup"><span data-stu-id="8bbd2-127">To learn more about where to find these properties in your data source, see the [ServiceNow](servicenow-connector.md) and [Salesforce](salesforce-connector.md) pages.</span></span>  

<span data-ttu-id="8bbd2-128">Vous pouvez sélectionner une propriété d’utilisateur non Azure AD dans la liste déroulante et fournir une expression régulière à appliquer aux valeurs de ces propriétés d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-128">You can select a non-Azure AD user property from the dropdown and provide a regular expression to be applied on those user property values.</span></span> <span data-ttu-id="8bbd2-129">Pour en savoir plus sur les expressions régulières, consultez la rubrique [Regular expression Reference]( https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference).</span><span class="sxs-lookup"><span data-stu-id="8bbd2-129">To learn more about regular expressions, see [regular expression reference]( https://docs.microsoft.com/dotnet/standard/base-types/regular-expression-language-quick-reference).</span></span>  

<span data-ttu-id="8bbd2-130">Voici quelques exemples d’expressions régulières et leurs sorties appliquées à un exemple de chaîne :</span><span class="sxs-lookup"><span data-stu-id="8bbd2-130">Below are some examples of regular expressions and their outputs applied to a sample string:</span></span> 

| <span data-ttu-id="8bbd2-131">Exemple de chaîne</span><span class="sxs-lookup"><span data-stu-id="8bbd2-131">Sample String</span></span>                  | <span data-ttu-id="8bbd2-132">Expression régulière</span><span class="sxs-lookup"><span data-stu-id="8bbd2-132">Regular expression</span></span>                 | <span data-ttu-id="8bbd2-133">Sortie de l’expression régulière sur l’exemple de chaîne</span><span class="sxs-lookup"><span data-stu-id="8bbd2-133">Output of regular expression on sample string</span></span>           |
| :------------------- | :------------------- |:---------------|
| <span data-ttu-id="8bbd2-134">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="8bbd2-134">Alexis Vasquez</span></span>  | <span data-ttu-id="8bbd2-135">.\*</span><span class="sxs-lookup"><span data-stu-id="8bbd2-135">.\*</span></span> | <span data-ttu-id="8bbd2-136">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="8bbd2-136">Alexis Vasquez</span></span> |
| <span data-ttu-id="8bbd2-137">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="8bbd2-137">Alexis Vasquez</span></span>                 | <span data-ttu-id="8bbd2-138">..$</span><span class="sxs-lookup"><span data-stu-id="8bbd2-138">..$</span></span>                 | <span data-ttu-id="8bbd2-139">faciles</span><span class="sxs-lookup"><span data-stu-id="8bbd2-139">ez</span></span>            |
| <span data-ttu-id="8bbd2-140">Alexis Vasquez</span><span class="sxs-lookup"><span data-stu-id="8bbd2-140">Alexis Vasquez</span></span>                  | <span data-ttu-id="8bbd2-141">(\w +) $</span><span class="sxs-lookup"><span data-stu-id="8bbd2-141">(\w+)$</span></span>                  | <span data-ttu-id="8bbd2-142">Vasquez</span><span class="sxs-lookup"><span data-stu-id="8bbd2-142">Vasquez</span></span>             |

<span data-ttu-id="8bbd2-143">Vous pouvez ajouter autant de propriétés d’utilisateur non Azure AD que vous le souhaitez pour les expressions.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-143">You can add as many non-Azure AD user properties as you would like expressions for.</span></span> <span data-ttu-id="8bbd2-144">Vous pouvez appliquer différentes expressions régulières à la même propriété utilisateur si votre formule finale garantit que.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-144">You can apply different regular expressions to the same user property if your final formula warrants that.</span></span>  

### <a name="3-create-formula-to-complete-mapping"></a><span data-ttu-id="8bbd2-145">3. créer une formule pour terminer le mappage</span><span class="sxs-lookup"><span data-stu-id="8bbd2-145">3. Create formula to complete mapping</span></span>

<span data-ttu-id="8bbd2-146">Vous pouvez combiner les sorties des expressions régulières appliquées à chacune de vos propriétés d’utilisateur non Azure AD pour former la propriété Azure AD sélectionnée à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-146">You can combine the outputs of the regular expressions applied to each of your non-Azure AD user properties to form the Azure AD property selected in step 1.</span></span>

<span data-ttu-id="8bbd2-147">Dans la zone formule, « {0} » correspond à la sortie de l’expression régulière appliquée à la *première* propriété non Azure ad que vous avez sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-147">In the formula box, "{0}" corresponds to the output of the regular expression applied to the *first* non-Azure AD property you selected.</span></span> <span data-ttu-id="8bbd2-148">« {1} » correspond à la sortie de l’expression régulière appliquée à la *deuxième* propriété non Azure ad que vous avez sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-148">"{1}" corresponds to the output of the regular expression applied to the *second* non-Azure AD property you selected.</span></span> <span data-ttu-id="8bbd2-149">« {2} » correspond à la sortie de l’expression régulière appliquée à la *troisième* propriété non Azure ad, et ainsi de suite.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-149">"{2}" corresponds to the output of the regular expression applied to the *third* non-Azure AD property, and so on.</span></span>  

<span data-ttu-id="8bbd2-150">Voici quelques exemples de formules avec des résultats d’expressions régulières et des sorties de formule :</span><span class="sxs-lookup"><span data-stu-id="8bbd2-150">Below are some examples of formulas with sample regular expression outputs and formula outputs:</span></span> 

| <span data-ttu-id="8bbd2-151">Exemple de formule</span><span class="sxs-lookup"><span data-stu-id="8bbd2-151">Sample formula</span></span>                  | <span data-ttu-id="8bbd2-152">Valeur de {0} on Sample User</span><span class="sxs-lookup"><span data-stu-id="8bbd2-152">Value of {0} on sample user</span></span>                 | <span data-ttu-id="8bbd2-153">Valeur de {1} on Sample User</span><span class="sxs-lookup"><span data-stu-id="8bbd2-153">Value of {1} on sample user</span></span>           | <span data-ttu-id="8bbd2-154">Sortie de la formule</span><span class="sxs-lookup"><span data-stu-id="8bbd2-154">Output of formula</span></span>                  |
| :------------------- | :------------------- |:---------------|:---------------|
| <span data-ttu-id="8bbd2-155">{0}.{1} @contoso. com</span><span class="sxs-lookup"><span data-stu-id="8bbd2-155">{0}.{1}@contoso.com</span></span>  | <span data-ttu-id="8bbd2-156">FirstName</span><span class="sxs-lookup"><span data-stu-id="8bbd2-156">firstname</span></span> | <span data-ttu-id="8bbd2-157">prénom</span><span class="sxs-lookup"><span data-stu-id="8bbd2-157">lastname</span></span> |<span data-ttu-id="8bbd2-158">firstname.lastname@contoso.com</span><span class="sxs-lookup"><span data-stu-id="8bbd2-158">firstname.lastname@contoso.com</span></span>
| <span data-ttu-id="8bbd2-159">{0}@domain. com</span><span class="sxs-lookup"><span data-stu-id="8bbd2-159">{0}@domain.com</span></span>                 | <span data-ttu-id="8bbd2-160">identifi</span><span class="sxs-lookup"><span data-stu-id="8bbd2-160">userid</span></span>                 |             |<span data-ttu-id="8bbd2-161">userid@domain.com</span><span class="sxs-lookup"><span data-stu-id="8bbd2-161">userid@domain.com</span></span>

<span data-ttu-id="8bbd2-162">Une fois que vous avez fourni votre formule, vous pouvez éventuellement cliquer sur **Aperçu** pour afficher un aperçu de 5 utilisateurs aléatoires de votre source de données avec leurs mappages utilisateur respectifs appliqués.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-162">After you provide your formula, you can optionally click **Preview** to see a preview of 5 random users from your data source with their respective user mappings applied.</span></span> <span data-ttu-id="8bbd2-163">La sortie de l’aperçu inclut la valeur des propriétés utilisateur non Azure AD sélectionnées à l’étape 2 pour ces utilisateurs et le résultat de la formule finale fournie à l’étape 3 pour cet utilisateur.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-163">The output of the preview includes the value of the non-Azure AD user properties selected in step 2 for those users and the output of the final formula provided in step 3 for that user.</span></span> <span data-ttu-id="8bbd2-164">Il indique également si la sortie de la formule peut être résolue en utilisateur Azure AD dans votre client via une icône « réussite » ou « échec ».</span><span class="sxs-lookup"><span data-stu-id="8bbd2-164">It also indicates whether the output of the formula could be resolved to an Azure AD user in your tenant via a "Success" or "Failed" icon.</span></span>  

>[!NOTE]
><span data-ttu-id="8bbd2-165">Vous pouvez continuer à créer votre connexion si un ou plusieurs mappages utilisateur ont un État « échec » une fois que vous avez cliqué sur **Aperçu**.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-165">You can still proceed with creating your connection if one or more user mappings have a "Failed" status after you click **Preview**.</span></span> <span data-ttu-id="8bbd2-166">L’aperçu montre 5 utilisateurs aléatoires et leurs mappages à partir de votre source de données.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-166">The preview shows 5 random users and their mappings from your data source.</span></span> <span data-ttu-id="8bbd2-167">Si le mappage que vous fournissez ne mappe pas tous les utilisateurs, vous pouvez observer ce cas.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-167">If the mapping you provide does not map all users, you may experience this case.</span></span>

## <a name="sample-non-azure-ad-mapping"></a><span data-ttu-id="8bbd2-168">Exemple de mappage de publicités non Azure</span><span class="sxs-lookup"><span data-stu-id="8bbd2-168">Sample non-Azure AD mapping</span></span>

<span data-ttu-id="8bbd2-169">Consultez la capture instantanée ci-dessous pour un exemple de mappage de publicités non Azure.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-169">See the snapshot below for a sample non-Azure AD mapping.</span></span>

![Exemple de capture instantanée sur la façon de remplir la page de mappage des publicités non Azure](media/non-aad-mapping.png)

## <a name="limitations"></a><span data-ttu-id="8bbd2-171">Limites</span><span class="sxs-lookup"><span data-stu-id="8bbd2-171">Limitations</span></span>  

- <span data-ttu-id="8bbd2-172">Un seul mappage est pris en charge pour tous les utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-172">Only one mapping is supported for all users.</span></span> <span data-ttu-id="8bbd2-173">Les mappages conditionnels ne sont pas pris en charge.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-173">Conditional mappings are not supported.</span></span>  

- <span data-ttu-id="8bbd2-174">Vous ne pouvez pas modifier votre mappage une fois la connexion publiée.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-174">You cannot change your mapping once the connection is published.</span></span>  

- <span data-ttu-id="8bbd2-175">Seules les expressions régulières par rapport aux propriétés utilisateur non AAD sont actuellement prises en charge pour la transformation.</span><span class="sxs-lookup"><span data-stu-id="8bbd2-175">Only regex-based expressions against the non-AAD user properties are currently supported for the transformation.</span></span>

- <span data-ttu-id="8bbd2-176">Seules 3 identités Azure AD vous pouvez choisir de mapper (UPN, ID Azure AD et SID AD).</span><span class="sxs-lookup"><span data-stu-id="8bbd2-176">There are only 3 Azure AD identities you can choose to map to (UPN, Azure AD ID, and AD SID).</span></span>