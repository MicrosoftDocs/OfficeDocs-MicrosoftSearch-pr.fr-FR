---
title: Connecteur Azure Data Lake pour Microsoft Search
ms.author: mounika.narayanan
author: monaray
manager: shohara
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurer le connecteur Azure Data Lake Storage Gen2 pour Microsoft Search
ms.openlocfilehash: f8cb94e806e619d6dae7258b6c2d708d93afb9a8
ms.sourcegitcommit: 7eda9b621def0659d7e7bc8b989f8adc929cce93
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 06/24/2020
ms.locfileid: "44861075"
---
# <a name="azure-data-lake-storage-gen2-connector"></a><span data-ttu-id="64e4a-103">Connecteur Azure Data Lake Storage Gen2</span><span class="sxs-lookup"><span data-stu-id="64e4a-103">Azure Data Lake Storage Gen2 connector</span></span>

<span data-ttu-id="64e4a-104">Avec le connecteur [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) , les utilisateurs de votre organisation peuvent rechercher des fichiers et leur contenu.</span><span class="sxs-lookup"><span data-stu-id="64e4a-104">With the [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) connector, users in your organization can search for files and their content.</span></span> <span data-ttu-id="64e4a-105">Ce connecteur accède aux données stockées dans les conteneurs d’objets BLOB Azure et les dossiers activés dans la hiérarchie dans un compte Azure Data Lake Storage Gen 2.</span><span class="sxs-lookup"><span data-stu-id="64e4a-105">This connector accesses data stored in Azure Blob containers and hierarchy-enabled folders within an Azure Data Lake Storage Gen 2 account.</span></span>

<span data-ttu-id="64e4a-106">Cet article est destiné aux administrateurs [365 de Microsoft](https://www.microsoft.com/microsoft-365) ou toute personne qui configure, exécute et surveille un connecteur Azure Data Lake Storage Gen2.</span><span class="sxs-lookup"><span data-stu-id="64e4a-106">This article is for [Microsoft 365](https://www.microsoft.com/microsoft-365) administrators or anyone who configures, runs, and monitors an Azure Data Lake Storage Gen2 connector.</span></span> <span data-ttu-id="64e4a-107">Elle explique comment configurer les fonctionnalités de connecteur et de connecteur, ainsi que les restrictions et les techniques de résolution des problèmes.</span><span class="sxs-lookup"><span data-stu-id="64e4a-107">It explains how to configure your connector and connector capabilities, limitations, and troubleshooting techniques.</span></span>

## <a name="connect-to-a-data-source"></a><span data-ttu-id="64e4a-108">Se connecter à une source de données</span><span class="sxs-lookup"><span data-stu-id="64e4a-108">Connect to a data source</span></span>

### <a name="primary-storage-connection-string"></a><span data-ttu-id="64e4a-109">Chaîne de connexion de stockage principal</span><span class="sxs-lookup"><span data-stu-id="64e4a-109">Primary storage connection string</span></span> 
<span data-ttu-id="64e4a-110">Sur l’écran **authentification et configuration** , fournissez la chaîne de connexion de stockage principal.</span><span class="sxs-lookup"><span data-stu-id="64e4a-110">On the **Authentication and config** screen, provide the Primary Storage Connection String.</span></span> <span data-ttu-id="64e4a-111">Cette chaîne est requise pour autoriser l’accès à votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="64e4a-111">That string is required to allow access to your storage account.</span></span> <span data-ttu-id="64e4a-112">Pour rechercher votre chaîne de connexion, accédez au [portail Azure](https://ms.portal.azure.com/#home) et accédez à la section **clés** du compte [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .</span><span class="sxs-lookup"><span data-stu-id="64e4a-112">To find your connection string, go to the [Azure portal](https://ms.portal.azure.com/#home) and navigate to the **Keys** section of the [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) account.</span></span> <span data-ttu-id="64e4a-113">Copiez et collez la chaîne de connexion dans le champ approprié à l’écran.</span><span class="sxs-lookup"><span data-stu-id="64e4a-113">Copy and paste the connection string in the appropriate field on the screen.</span></span>

<span data-ttu-id="64e4a-114">Si vous ne souhaitez pas fournir le **AccountKey** (un paramètre dans la chaîne de connexion de stockage principal), vous devez accorder un accès en lecture à notre service de connecteurs Graph.</span><span class="sxs-lookup"><span data-stu-id="64e4a-114">If you don't want to provide the **AccountKey** (a parameter in the primary storage connection string), you have to grant read access to our Graph Connectors Service.</span></span> <span data-ttu-id="64e4a-115">Dans l’onglet **contrôle d’accès** de votre compte Azure Data Lake Storage Gen2, suivez les instructions de cette page pour accorder l’accès à l’application suivante :</span><span class="sxs-lookup"><span data-stu-id="64e4a-115">In the **Access Control** tab of your Azure Data Lake Storage Gen2 account, follow the instructions on that page to grant access to the following app:</span></span>
* <span data-ttu-id="64e4a-116">**ID de l’application du premier groupe :** 56c1da01-2129-48f7-9355-af6d59d42766</span><span class="sxs-lookup"><span data-stu-id="64e4a-116">**First Party App ID:** 56c1da01-2129-48f7-9355-af6d59d42766</span></span>
* <span data-ttu-id="64e4a-117">**Nom de l’application de premier tiers :** Service connecteur Graph</span><span class="sxs-lookup"><span data-stu-id="64e4a-117">**First Party App Name:** Graph Connector Service</span></span>

### <a name="storage-account-and-queue-notifications-optional"></a><span data-ttu-id="64e4a-118">Compte de stockage et notifications de file d’attente (facultatif)</span><span class="sxs-lookup"><span data-stu-id="64e4a-118">Storage account and queue notifications (Optional)</span></span>
<span data-ttu-id="64e4a-119">Le support pour traiter les modifications en temps réel dans le service de connecteurs Graph peut être ajouté à l’avenir.</span><span class="sxs-lookup"><span data-stu-id="64e4a-119">Support to process changes in real time in the Graph Connectors Service might be added in the future.</span></span> <span data-ttu-id="64e4a-120">Dans ce cas, nous allons analyser les notifications de modification de l' [enregistrement des données de stockage Azure Data Lake](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) stockées dans une file d’attente.</span><span class="sxs-lookup"><span data-stu-id="64e4a-120">In that case, we'll monitor [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) change notifications stored in a queue.</span></span> <span data-ttu-id="64e4a-121">Vous devez créer une file d’attente dans le même compte que celui de votre compte Azure Data Lake Storage Gen2 ou dans un autre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="64e4a-121">You'll need to create a queue in the same account as your Azure Data Lake Storage Gen2 or in another storage account.</span></span>

<span data-ttu-id="64e4a-122">Après avoir créé une file d’attente, accédez à l’onglet **événements** sur la page de la file d’attente pour configurer l' **abonnement aux événements**.</span><span class="sxs-lookup"><span data-stu-id="64e4a-122">After you create a queue, go to the **Events** tab on the queue page to configure **Event Subscription**.</span></span> <span data-ttu-id="64e4a-123">Choisissez tous les événements BLOB que la file d’attente recevra et connectez la file d’attente au compte Azure Data Lake Storage Gen2.</span><span class="sxs-lookup"><span data-stu-id="64e4a-123">Choose all the Blob events that the queue will receive, and connect the queue to the Azure Data Lake Storage Gen2 account.</span></span>

## <a name="manage-the-search-schema"></a><span data-ttu-id="64e4a-124">Gérer le schéma de recherche</span><span class="sxs-lookup"><span data-stu-id="64e4a-124">Manage the search schema</span></span>
<span data-ttu-id="64e4a-125">Dans l’écran **gérer le schéma** , vous avez la possibilité de modifier les attributs de schéma (pouvant faire l’objet d’une**requête**, d’une **recherche**et de l' **extraction**) associés aux propriétés gérées.</span><span class="sxs-lookup"><span data-stu-id="64e4a-125">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, and **retrievable**) associated with the managed properties.</span></span> <span data-ttu-id="64e4a-126">Ces attributs de propriétés gérées sont des données indexées à partir de votre compte [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .</span><span class="sxs-lookup"><span data-stu-id="64e4a-126">These managed property attributes are data indexed from your [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) account.</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="64e4a-127">Gérer les autorisations de recherche</span><span class="sxs-lookup"><span data-stu-id="64e4a-127">Manage search permissions</span></span>
<span data-ttu-id="64e4a-128">Dans l’écran gérer les autorisations de recherche, vous pouvez choisir d' **administrer** les listes de contrôle d’accès (ACL) de votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="64e4a-128">On the **Manage search permissions** screen, you can choose to ingest the Access Control Lists (ACLs) from your storage account.</span></span> <span data-ttu-id="64e4a-129">Lorsque ces autorisations de recherche sont définies, le contenu de recherche est tronqué en fonction des autorisations attribuées à l’utilisateur [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) connecté à rechercher dans le contenu.</span><span class="sxs-lookup"><span data-stu-id="64e4a-129">When these search permissions are set, search content is trimmed based on the permissions assigned to the signed-in [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) user searching the content.</span></span> <span data-ttu-id="64e4a-130">Vous pouvez également choisir de faire en sorte que tout le contenu indexé à partir de votre compte de stockage soit visible par tous les membres de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="64e4a-130">Alternatively, you can choose to make all the content indexed from your storage account visible to everyone in your organization.</span></span> <span data-ttu-id="64e4a-131">Dans ce cas, tous les membres de votre organisation auront accès à toutes les données de votre compte de stockage.</span><span class="sxs-lookup"><span data-stu-id="64e4a-131">In this case, everyone in your organization will have access to all the data in your storage account.</span></span>
 
## <a name="set-the-refresh-schedule"></a><span data-ttu-id="64e4a-132">Définir la planification d’actualisation</span><span class="sxs-lookup"><span data-stu-id="64e4a-132">Set the refresh schedule</span></span>
<span data-ttu-id="64e4a-133">Dans l’écran **paramètres d’actualisation** , vous pouvez définir l’intervalle d’analyse incrémentielle et l’intervalle d’analyse complète.</span><span class="sxs-lookup"><span data-stu-id="64e4a-133">On the **Refresh Settings** screen, you can set the incremental crawl interval and the full crawl interval.</span></span> <span data-ttu-id="64e4a-134">Les intervalles par défaut du connecteur [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) sont 15 minutes pour une analyse incrémentielle et une semaine pour une analyse complète.</span><span class="sxs-lookup"><span data-stu-id="64e4a-134">The default intervals for the [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) connector are 15 minutes for an incremental crawl and one week for a full crawl.</span></span>
 
## <a name="limitations"></a><span data-ttu-id="64e4a-135">Limites</span><span class="sxs-lookup"><span data-stu-id="64e4a-135">Limitations</span></span>
<span data-ttu-id="64e4a-136">Actuellement, l’accès multiprotocole du fournisseur de [stockage Azure Data Lake](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) n’est disponible que pour les États-Unis, les États-Unis, le Canada central, l’est-u, l’Asie de l’est, l’Europe du Nord, l’US2, le sud-est de l’Ouest, l’Europe de l’Ouest, l’Australie, le Japon ou le sud-est.</span><span class="sxs-lookup"><span data-stu-id="64e4a-136">Currently, [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) Multi-Protocol Access is available only in the Central US, West Central US, Canada Central, East US, East Asia, North Europe, East US2, South East Asia, West Europe, West US, Australia East, Japan East, West US2, and Brazil South.</span></span>

<span data-ttu-id="64e4a-137">Pour plus d’informations sur les mises à jour et plus d’informations, voir [Multi-Protocol Access on Azure Data Lake Storage (Preview)](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-multi-protocol-access).</span><span class="sxs-lookup"><span data-stu-id="64e4a-137">For updates and more information, see  [Multi-protocol access on Azure Data Lake Storage (preview)](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-multi-protocol-access).</span></span>


