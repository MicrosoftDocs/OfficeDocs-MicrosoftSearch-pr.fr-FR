---
title: Connecteur ServiceNow pour Microsoft Search
ms.author: kam1
author: TheKarthikeyan
manager: harshkum
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurer le connecteur ServiceNow pour Microsoft Search
ms.openlocfilehash: 5bcc0870df7c2ad418bb2ae29e9d4d999dcbdf3f
ms.sourcegitcommit: 59cdd3f0f82b7918399bf44d27d9891076090f4f
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/20/2020
ms.locfileid: "49367594"
---
# <a name="servicenow-connector"></a><span data-ttu-id="70931-103">Connecteur ServiceNow</span><span class="sxs-lookup"><span data-stu-id="70931-103">ServiceNow connector</span></span>

<span data-ttu-id="70931-104">Avec le connecteur ServiceNow, votre organisation peut indexer des Articles de la base de connaissances visibles par tous les utilisateurs ou des autorisations restreintes avec des critères utilisateur au sein de votre organisation.</span><span class="sxs-lookup"><span data-stu-id="70931-104">With the ServiceNow connector, your organization can index knowledge-base articles that are visible to all users or restricted with user criteria permissions within your organization.</span></span> <span data-ttu-id="70931-105">Une fois que vous avez configuré le connecteur et le contenu d’index à partir de ServiceNow, les utilisateurs finals peuvent rechercher ces articles à partir de n’importe quel client Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="70931-105">After you configure the connector and index content from ServiceNow, end users can search for those articles from any Microsoft Search client.</span></span>  

<span data-ttu-id="70931-106">Cet article est destiné aux administrateurs 365 de Microsoft ou toute personne qui configure, exécute et surveille un connecteur ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="70931-106">This article is for Microsoft 365 administrators or anyone who configures, runs, and monitors a ServiceNow connector.</span></span> <span data-ttu-id="70931-107">Elle explique comment configurer les fonctionnalités de connecteur et de connecteur, ainsi que les restrictions et les techniques de résolution des problèmes.</span><span class="sxs-lookup"><span data-stu-id="70931-107">It explains how to configure your connector and connector capabilities, limitations, and troubleshooting techniques.</span></span>

<span data-ttu-id="70931-108">Découvrez comment accéder aux connecteurs Microsoft générés à partir de [la configuration de votre connecteur intégré Microsoft pour Microsoft Search](https://docs.microsoft.com/microsoftsearch/configure-connector).</span><span class="sxs-lookup"><span data-stu-id="70931-108">Learn how to access Microsoft built connectors from [Set up your Microsoft-built connector for Microsoft Search](https://docs.microsoft.com/microsoftsearch/configure-connector).</span></span> <span data-ttu-id="70931-109">La configuration spécifique d’un connecteur ServiceNow est expliquée dans l’article ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="70931-109">ServiceNow connector specific configuration is explained in the article below.</span></span>

## <a name="connection-settings"></a><span data-ttu-id="70931-110">Paramètres de connexion</span><span class="sxs-lookup"><span data-stu-id="70931-110">Connection Settings</span></span>
<span data-ttu-id="70931-111">Pour vous connecter à vos données ServiceNow, vous avez besoin de l’URL de l' **instance ServiceNow** de votre organisation, des informations d’identification de ce compte, ainsi que de l’ID client et de la clé secrète client pour l’authentification OAuth.</span><span class="sxs-lookup"><span data-stu-id="70931-111">To connect to your ServiceNow data, you need your organization's **ServiceNow instance URL**, credentials for this account, and the Client ID and Client Secret for OAuth authentication.</span></span>  

<span data-ttu-id="70931-112">L’URL de l' **instance ServiceNow** de votre organisation ressemble généralement **&lt; à https://>. service-Now.com**.</span><span class="sxs-lookup"><span data-stu-id="70931-112">Your organization’s **ServiceNow instance URL** typically looks like **https://&lt;your-organization-domain>.service-now.com**.</span></span> <span data-ttu-id="70931-113">En plus de cette URL, vous aurez besoin d’un compte pour la configuration de la connexion à ServiceNow, ainsi que pour permettre à Microsoft Search de mettre à jour régulièrement les articles à partir de ServiceNow en fonction de la planification de l’actualisation.</span><span class="sxs-lookup"><span data-stu-id="70931-113">Along with this URL, you will need an account for setting up the connection to ServiceNow as well as for allowing Microsoft Search to periodically update the articles from ServiceNow based on the refresh schedule.</span></span> <span data-ttu-id="70931-114">Le compte doit au moins avoir le rôle de <em>connaissances</em> .</span><span class="sxs-lookup"><span data-stu-id="70931-114">The account should at least have <em>knowledge</em> role.</span></span> <span data-ttu-id="70931-115">[Découvrez comment attribuer des rôles pour les comptes ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="70931-115">[Learn how to assign role for ServiceNow accounts](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span>

>[!NOTE]
><span data-ttu-id="70931-116">Si vous souhaitez analyser les identités d’utilisateurs et de groupes afin de respecter les autorisations d’accès des Articles de la Knowledge dans les résultats de la recherche Microsoft, le compte doit avoir accès pour lire les enregistrements de tableau suivants dans ServiceNow :</span><span class="sxs-lookup"><span data-stu-id="70931-116">If you want to crawl user and group identities to honor access permissions of knowledge articles in Microsoft Search results, the account should have access to read the following table records in ServiceNow:</span></span>
>* <span data-ttu-id="70931-117">kb_uc_can_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="70931-117">kb_uc_can_contribute_mtom</span></span>
>* <span data-ttu-id="70931-118">kb_uc_can_read_mtom</span><span class="sxs-lookup"><span data-stu-id="70931-118">kb_uc_can_read_mtom</span></span>
>* <span data-ttu-id="70931-119">kb_uc_cannot_read_mtom</span><span class="sxs-lookup"><span data-stu-id="70931-119">kb_uc_cannot_read_mtom</span></span>
>* <span data-ttu-id="70931-120">kb_uc_cannot_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="70931-120">kb_uc_cannot_contribute_mtom</span></span>
>* <span data-ttu-id="70931-121">sys_user</span><span class="sxs-lookup"><span data-stu-id="70931-121">sys_user</span></span>
>* <span data-ttu-id="70931-122">sys_user_has_role</span><span class="sxs-lookup"><span data-stu-id="70931-122">sys_user_has_role</span></span>
>* <span data-ttu-id="70931-123">sys_user_grmember</span><span class="sxs-lookup"><span data-stu-id="70931-123">sys_user_grmember</span></span>
>* <span data-ttu-id="70931-124">user_criteria</span><span class="sxs-lookup"><span data-stu-id="70931-124">user_criteria</span></span>
>* <span data-ttu-id="70931-125">kb_knowledge_base</span><span class="sxs-lookup"><span data-stu-id="70931-125">kb_knowledge_base</span></span>  
> <span data-ttu-id="70931-126">Vous pouvez créer et attribuer un rôle pour le compte que vous utilisez pour vous connecter à Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="70931-126">You can create and assign a role for the account you use to connect with Microsoft Search.</span></span> <span data-ttu-id="70931-127">L’accès en lecture aux tables peut être affecté à ce rôle.</span><span class="sxs-lookup"><span data-stu-id="70931-127">Read access to the tables can be assigned on that role.</span></span> <span data-ttu-id="70931-128">Pour en savoir plus sur la définition de l’accès en lecture aux enregistrements de table, consultez la rubrique [sécurisation des enregistrements de tableau](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span><span class="sxs-lookup"><span data-stu-id="70931-128">To learn about setting read access to table records, see [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span></span>

<span data-ttu-id="70931-129">Pour authentifier et synchroniser le contenu à partir de ServiceNow, choisissez **l’une des trois** méthodes prises en charge :</span><span class="sxs-lookup"><span data-stu-id="70931-129">To authenticate and sync content from ServiceNow, choose **one of three** supported methods:</span></span> 
1. <span data-ttu-id="70931-130">Authentification de base</span><span class="sxs-lookup"><span data-stu-id="70931-130">Basic authentication</span></span> 
2. <span data-ttu-id="70931-131">ServiceNow OAuth (recommandé)</span><span class="sxs-lookup"><span data-stu-id="70931-131">ServiceNow OAuth (recommended)</span></span>
3. <span data-ttu-id="70931-132">Azure AD OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="70931-132">Azure AD OpenID Connect</span></span>

#### <a name="basic-authentication"></a><span data-ttu-id="70931-133">Authentification de base</span><span class="sxs-lookup"><span data-stu-id="70931-133">Basic authentication</span></span>

<span data-ttu-id="70931-134">Entrez le nom d’utilisateur et le mot de passe du compte ServiceNow avec le rôle **connaissances** pour s’authentifier auprès de votre instance.</span><span class="sxs-lookup"><span data-stu-id="70931-134">Enter the username and password of ServiceNow account with **knowledge** role to authenticate to your instance.</span></span>

#### <a name="servicenow-oauth"></a><span data-ttu-id="70931-135">ServiceNow OAuth</span><span class="sxs-lookup"><span data-stu-id="70931-135">ServiceNow OAuth</span></span>

<span data-ttu-id="70931-136">Pour utiliser ServiceNow OAuth pour l’authentification, un administrateur ServiceNow doit mettre en service un point de terminaison dans votre instance de ServiceNow, afin que l’application Microsoft Search puisse accéder à l’instance.</span><span class="sxs-lookup"><span data-stu-id="70931-136">To use ServiceNow OAuth for authentication, a ServiceNow admin needs to provision an endpoint in your ServiceNow instance, so that the Microsoft Search app can access the instance.</span></span> <span data-ttu-id="70931-137">Pour plus d’informations, reportez-vous à la rubrique [créer un point de terminaison pour les clients pour accéder à l’instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) dans la documentation ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="70931-137">To learn more, see [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in the ServiceNow documentation.</span></span>

<span data-ttu-id="70931-138">Le tableau suivant fournit des instructions sur la façon de remplir le formulaire de création du point de terminaison :</span><span class="sxs-lookup"><span data-stu-id="70931-138">The following table provides guidance on how to fill out the endpoint creation form:</span></span>

<span data-ttu-id="70931-139">**Field**</span><span class="sxs-lookup"><span data-stu-id="70931-139">**Field**</span></span> | <span data-ttu-id="70931-140">**Description**</span><span class="sxs-lookup"><span data-stu-id="70931-140">**Description**</span></span> | <span data-ttu-id="70931-141">**Valeur recommandée**</span><span class="sxs-lookup"><span data-stu-id="70931-141">**Recommended Value**</span></span>
--- | --- | ---
<span data-ttu-id="70931-142">Nom</span><span class="sxs-lookup"><span data-stu-id="70931-142">Name</span></span> | <span data-ttu-id="70931-143">Cette valeur unique identifie l’application pour laquelle vous avez besoin d’un accès OAuth.</span><span class="sxs-lookup"><span data-stu-id="70931-143">This unique value identifies the application that you require OAuth access for.</span></span> | <span data-ttu-id="70931-144">Recherche Microsoft</span><span class="sxs-lookup"><span data-stu-id="70931-144">Microsoft Search</span></span>
<span data-ttu-id="70931-145">ID du client</span><span class="sxs-lookup"><span data-stu-id="70931-145">Client ID</span></span> | <span data-ttu-id="70931-146">IDENTIFICATEUR unique en lecture seule et généré automatiquement pour l’application.</span><span class="sxs-lookup"><span data-stu-id="70931-146">A read-only, auto-generated unique ID for the application.</span></span> <span data-ttu-id="70931-147">L’instance utilise l’ID client lorsqu’elle demande un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="70931-147">The instance uses the client ID when it requests an access token.</span></span> | <span data-ttu-id="70931-148">N/A</span><span class="sxs-lookup"><span data-stu-id="70931-148">NA</span></span>
<span data-ttu-id="70931-149">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="70931-149">Client secret</span></span> | <span data-ttu-id="70931-150">Avec cette chaîne secrète partagée, l’instance de ServiceNow et Microsoft Search autorisent les communications les uns avec les autres.</span><span class="sxs-lookup"><span data-stu-id="70931-150">With this shared secret string, the ServiceNow instance and Microsoft Search authorize communications with each other.</span></span> | <span data-ttu-id="70931-151">Suivez les meilleures pratiques en matière de sécurité en le traitant comme un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="70931-151">Follow security best-practices by treating this as a password.</span></span>
<span data-ttu-id="70931-152">URL de redirection</span><span class="sxs-lookup"><span data-stu-id="70931-152">Redirect URL</span></span> | <span data-ttu-id="70931-153">URL de rappel obligatoire vers laquelle le serveur d’autorisation redirige.</span><span class="sxs-lookup"><span data-stu-id="70931-153">A required callback URL that the authorization server redirects to.</span></span> | https://gcs.office.com/v1.0/admin/oauth/callback
<span data-ttu-id="70931-154">URL du logo</span><span class="sxs-lookup"><span data-stu-id="70931-154">Logo URL</span></span> | <span data-ttu-id="70931-155">URL qui contient l’image du logo de l’application.</span><span class="sxs-lookup"><span data-stu-id="70931-155">A URL that contains the image for the application logo.</span></span> | <span data-ttu-id="70931-156">N/A</span><span class="sxs-lookup"><span data-stu-id="70931-156">NA</span></span>
<span data-ttu-id="70931-157">Actif</span><span class="sxs-lookup"><span data-stu-id="70931-157">Active</span></span> | <span data-ttu-id="70931-158">Activez la case à cocher pour activer le registre d’application.</span><span class="sxs-lookup"><span data-stu-id="70931-158">Select the check box to make the application registry active.</span></span> | <span data-ttu-id="70931-159">Défini sur actif</span><span class="sxs-lookup"><span data-stu-id="70931-159">Set to active</span></span>
<span data-ttu-id="70931-160">Durée de vie des jetons d’actualisation</span><span class="sxs-lookup"><span data-stu-id="70931-160">Refresh token lifespan</span></span> | <span data-ttu-id="70931-161">Nombre de secondes pendant lesquelles un jeton d’actualisation est valide.</span><span class="sxs-lookup"><span data-stu-id="70931-161">The number of seconds that a refresh token is valid.</span></span> <span data-ttu-id="70931-162">Par défaut, les jetons d’actualisation expirent dans 100 jours (8640000 secondes).</span><span class="sxs-lookup"><span data-stu-id="70931-162">By default, refresh tokens expire in 100 days (8640000 seconds).</span></span> | <span data-ttu-id="70931-163">31 536 000 (1 an)</span><span class="sxs-lookup"><span data-stu-id="70931-163">31,536,000 (1 year)</span></span>
<span data-ttu-id="70931-164">Durée de vie du jeton d’accès</span><span class="sxs-lookup"><span data-stu-id="70931-164">Access token lifespan</span></span> | <span data-ttu-id="70931-165">Nombre de secondes pendant lesquelles un jeton d’accès est valide.</span><span class="sxs-lookup"><span data-stu-id="70931-165">The number of seconds that an access token is valid.</span></span> | <span data-ttu-id="70931-166">43 200 (12 heures)</span><span class="sxs-lookup"><span data-stu-id="70931-166">43,200 (12 hours)</span></span>

<span data-ttu-id="70931-167">Entrez l’ID client et la clé secrète client pour vous connecter à votre instance.</span><span class="sxs-lookup"><span data-stu-id="70931-167">Enter the client id and client secret to connect to your instance.</span></span> <span data-ttu-id="70931-168">Une fois connecté, utilisez les informations d’identification d’un compte ServiceNow pour authentifier l’autorisation d’analyse.</span><span class="sxs-lookup"><span data-stu-id="70931-168">After connecting, use a ServiceNow account credential to authenticate permission to crawl.</span></span> <span data-ttu-id="70931-169">Le compte doit au moins avoir le rôle de **connaissances** .</span><span class="sxs-lookup"><span data-stu-id="70931-169">The account should at least have **knowledge** role.</span></span>

#### <a name="azure-ad-openid-connect"></a><span data-ttu-id="70931-170">Azure AD OpenID Connect</span><span class="sxs-lookup"><span data-stu-id="70931-170">Azure AD OpenID Connect</span></span>

<span data-ttu-id="70931-171">Pour utiliser Azure AD OpenID Connect pour l’authentification, suivez les étapes ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="70931-171">To use Azure AD OpenID Connect for authentication, follow the steps below.</span></span>

###### <a name="step-1-register-a-new-application-in-azure-active-directory"></a><span data-ttu-id="70931-172">Étape 1 : enregistrer une nouvelle application dans Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="70931-172">Step 1: Register a new application in Azure Active Directory</span></span>

<span data-ttu-id="70931-173">Pour en savoir plus sur l’enregistrement d’une nouvelle application dans Azure Active Directory, consultez la rubrique [enregistrer une application](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#register-an-application).</span><span class="sxs-lookup"><span data-stu-id="70931-173">To learn about registering a new application in Azure Active Directory, see [Register an application](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#register-an-application).</span></span> <span data-ttu-id="70931-174">Sélectionnez annuaire d’organisation client unique.</span><span class="sxs-lookup"><span data-stu-id="70931-174">Select single tenant organizational directory.</span></span> <span data-ttu-id="70931-175">L’URI de redirection n’est pas nécessaire.</span><span class="sxs-lookup"><span data-stu-id="70931-175">Redirect URI is not needed.</span></span> <span data-ttu-id="70931-176">Après l’enregistrement, notez l’ID d’application (client) et l’ID de répertoire (client).</span><span class="sxs-lookup"><span data-stu-id="70931-176">After registration, note down the Application (client) ID and Directory (tenant) ID.</span></span>

###### <a name="step-2-create-a-client-secret"></a><span data-ttu-id="70931-177">Étape 2 : créer une clé secrète client</span><span class="sxs-lookup"><span data-stu-id="70931-177">Step 2: Create a client secret</span></span>

<span data-ttu-id="70931-178">Pour en savoir plus sur la création d’une clé secrète client, consultez [la rubrique Création d’une clé secrète client](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span><span class="sxs-lookup"><span data-stu-id="70931-178">To learn about creating a client secret, see [Creating a client secret](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span></span> <span data-ttu-id="70931-179">Prenez note de la clé secrète client.</span><span class="sxs-lookup"><span data-stu-id="70931-179">Take a note of client secret.</span></span>

###### <a name="step-3-retrieve-service-principal-object-identifier"></a><span data-ttu-id="70931-180">Étape 3 : récupérer l’identificateur d’objet principal du service</span><span class="sxs-lookup"><span data-stu-id="70931-180">Step 3: Retrieve Service Principal Object Identifier</span></span>

<span data-ttu-id="70931-181">Suivez la procédure pour récupérer l’identificateur d’objet principal du service.</span><span class="sxs-lookup"><span data-stu-id="70931-181">Follow the steps to retrieve Service Principal Object Identifier</span></span>

1. <span data-ttu-id="70931-182">Exécuter PowerShell</span><span class="sxs-lookup"><span data-stu-id="70931-182">Run PowerShell</span></span>
2. <span data-ttu-id="70931-183">Installez Azure PowerShell à l’aide de la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="70931-183">Install Azure PowerShell using the following command</span></span>
```<language>
   Install-Module -Name Az -AllowClobber -Scope CurrentUser
```
3. <span data-ttu-id="70931-184">Se connecter à Azure</span><span class="sxs-lookup"><span data-stu-id="70931-184">Connect to Azure</span></span>
```<language>
    Connect-AzAccount
```
4. <span data-ttu-id="70931-185">Obtenir l’identificateur de l’objet principal du service</span><span class="sxs-lookup"><span data-stu-id="70931-185">Get Service Principal Object Identifier</span></span>
```<language>
   Get-AzADServicePrincipal -ApplicationId "Application-ID"
```
<span data-ttu-id="70931-186">Remplacez « application-ID » par ID d’application (client) (sans guillemets) de l’application que vous avez inscrite à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="70931-186">Replace "Application-ID" with Application (client) ID (without quotes) of the application you registered in step 1.</span></span> <span data-ttu-id="70931-187">Notez la valeur de l’objet ID de la sortie PowerShell.</span><span class="sxs-lookup"><span data-stu-id="70931-187">Note the value of ID object from PowerShell output.</span></span> <span data-ttu-id="70931-188">Il s’agit de l’ID du principal du service.</span><span class="sxs-lookup"><span data-stu-id="70931-188">It is the Service Principal ID.</span></span>

<span data-ttu-id="70931-189">Vous disposez maintenant de toutes les informations requises à partir du portail Azure.</span><span class="sxs-lookup"><span data-stu-id="70931-189">Now you have all the information required from Azure portal.</span></span> <span data-ttu-id="70931-190">Un résumé rapide des informations est indiqué dans le tableau ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="70931-190">A quick summary of the information is given in the table below.</span></span>

<span data-ttu-id="70931-191">**Propriété**</span><span class="sxs-lookup"><span data-stu-id="70931-191">**Property**</span></span> | <span data-ttu-id="70931-192">**Description**</span><span class="sxs-lookup"><span data-stu-id="70931-192">**Description**</span></span>
--- | ---
<span data-ttu-id="70931-193">ID d’annuaire (ID de client)</span><span class="sxs-lookup"><span data-stu-id="70931-193">Directory ID (Tenant ID)</span></span> | <span data-ttu-id="70931-194">Il s’agit d’un ID unique qui fait référence au client Azure Active Directory (à partir de l’étape 1).</span><span class="sxs-lookup"><span data-stu-id="70931-194">This is a unique ID referring the Azure Active Directory tenant (from step 1).</span></span>
<span data-ttu-id="70931-195">ID de l’application (ID client)</span><span class="sxs-lookup"><span data-stu-id="70931-195">Application ID (Client ID)</span></span> | <span data-ttu-id="70931-196">Il s’agit d’un ID unique qui fait référence à l’application inscrite à l’étape 1.</span><span class="sxs-lookup"><span data-stu-id="70931-196">This is a unique ID referring the application registered in step 1.</span></span>
<span data-ttu-id="70931-197">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="70931-197">Client Secret</span></span> | <span data-ttu-id="70931-198">Il s’agit de la clé secrète de l’application (à partir de l’étape 2).</span><span class="sxs-lookup"><span data-stu-id="70931-198">This is the secret key of the application (from step 2).</span></span> <span data-ttu-id="70931-199">Le traiter comme un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="70931-199">Treat it like a password.</span></span>
<span data-ttu-id="70931-200">ID du principal du service</span><span class="sxs-lookup"><span data-stu-id="70931-200">Service Principal ID</span></span> | <span data-ttu-id="70931-201">Identité de l’application en cours d’exécution en tant que service.</span><span class="sxs-lookup"><span data-stu-id="70931-201">An identity for the application running as a service.</span></span> <span data-ttu-id="70931-202">(de l’étape 3)</span><span class="sxs-lookup"><span data-stu-id="70931-202">(from step 3)</span></span>

###### <a name="step-4-register-servicenow-application"></a><span data-ttu-id="70931-203">Étape 4 : inscrire l’application ServiceNow</span><span class="sxs-lookup"><span data-stu-id="70931-203">Step 4: Register ServiceNow Application</span></span>

<span data-ttu-id="70931-204">La configuration suivante doit être exécutée dans l’instance ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="70931-204">The following configuration need to be done in the ServiceNow instance.</span></span>

1. <span data-ttu-id="70931-205">Enregistrer une nouvelle entité OIDC OAuth.</span><span class="sxs-lookup"><span data-stu-id="70931-205">Register a new OAuth OIDC entity.</span></span> <span data-ttu-id="70931-206">Pour en savoir plus, consultez la rubrique [Create an OAUTH OIDC Provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span><span class="sxs-lookup"><span data-stu-id="70931-206">To learn, see [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span></span>
2. <span data-ttu-id="70931-207">Le tableau suivant fournit des instructions sur la façon de remplir le formulaire d’inscription du fournisseur OIDC</span><span class="sxs-lookup"><span data-stu-id="70931-207">The following table provides guidance on how to fill out OIDC provider registration form</span></span>

<span data-ttu-id="70931-208">**Field**</span><span class="sxs-lookup"><span data-stu-id="70931-208">**Field**</span></span> | <span data-ttu-id="70931-209">**Description**</span><span class="sxs-lookup"><span data-stu-id="70931-209">**Description**</span></span> | <span data-ttu-id="70931-210">**Valeur recommandée**</span><span class="sxs-lookup"><span data-stu-id="70931-210">**Recommended Value**</span></span>
--- | --- | ---
<span data-ttu-id="70931-211">Nom</span><span class="sxs-lookup"><span data-stu-id="70931-211">Name</span></span> | <span data-ttu-id="70931-212">Nom unique qui identifie l’entité OIDC OAuth.</span><span class="sxs-lookup"><span data-stu-id="70931-212">A unique name that identifies the OAuth OIDC entity.</span></span> | <span data-ttu-id="70931-213">Azure AD</span><span class="sxs-lookup"><span data-stu-id="70931-213">Azure AD</span></span>
<span data-ttu-id="70931-214">ID du client</span><span class="sxs-lookup"><span data-stu-id="70931-214">Client ID</span></span> | <span data-ttu-id="70931-215">ID client de l’application inscrite dans le serveur OIDC OAuth tiers.</span><span class="sxs-lookup"><span data-stu-id="70931-215">The client ID of the application registered in the third-party OAuth OIDC server.</span></span> <span data-ttu-id="70931-216">L’instance utilise l’ID client lors de la demande d’un jeton d’accès.</span><span class="sxs-lookup"><span data-stu-id="70931-216">The instance uses the client ID when requesting an access token.</span></span> | <span data-ttu-id="70931-217">ID d’application (client) de l’étape 1</span><span class="sxs-lookup"><span data-stu-id="70931-217">Application (Client) ID from step 1</span></span>
<span data-ttu-id="70931-218">Clé secrète client</span><span class="sxs-lookup"><span data-stu-id="70931-218">Client Secret</span></span> | <span data-ttu-id="70931-219">Clé secrète client de l’application inscrite dans le serveur OIDC OAuth tiers.</span><span class="sxs-lookup"><span data-stu-id="70931-219">The client secret of the application registered in the third-party OAuth OIDC server.</span></span> | <span data-ttu-id="70931-220">Clé secrète client à partir de l’étape 2</span><span class="sxs-lookup"><span data-stu-id="70931-220">Client Secret from step 2</span></span>

<span data-ttu-id="70931-221">Toutes les autres valeurs peuvent être par défaut.</span><span class="sxs-lookup"><span data-stu-id="70931-221">All other values can be default.</span></span>

3. <span data-ttu-id="70931-222">Dans le formulaire d’inscription du fournisseur OIDC, vous devez ajouter une nouvelle configuration de fournisseur OIDC.</span><span class="sxs-lookup"><span data-stu-id="70931-222">In the OIDC provider registration form, you need to add a new OIDC provider configuration.</span></span> <span data-ttu-id="70931-223">Cliquez sur l’icône de recherche sur le champ de *configuration du fournisseur OIDC OAuth* pour ouvrir les enregistrements des configurations de OIDC.</span><span class="sxs-lookup"><span data-stu-id="70931-223">Click the search icon against *OAuth OIDC Provider Configuration* field to open the records of OIDC configurations.</span></span> <span data-ttu-id="70931-224">Cliquez sur Nouveau.</span><span class="sxs-lookup"><span data-stu-id="70931-224">Click New.</span></span>
4. <span data-ttu-id="70931-225">Le tableau suivant fournit des instructions sur la façon de remplir le formulaire de configuration du fournisseur OIDC</span><span class="sxs-lookup"><span data-stu-id="70931-225">The following table provides guidance on how to fill out OIDC provider configuration form</span></span>

<span data-ttu-id="70931-226">**Champ**</span><span class="sxs-lookup"><span data-stu-id="70931-226">**Field**</span></span> | <span data-ttu-id="70931-227">**Valeur recommandée**</span><span class="sxs-lookup"><span data-stu-id="70931-227">**Recommended Value**</span></span>
--- | ---
<span data-ttu-id="70931-228">Fournisseur OIDC</span><span class="sxs-lookup"><span data-stu-id="70931-228">OIDC Provider</span></span> |  <span data-ttu-id="70931-229">Azure AD</span><span class="sxs-lookup"><span data-stu-id="70931-229">Azure AD</span></span>
<span data-ttu-id="70931-230">URL de métadonnées OIDC</span><span class="sxs-lookup"><span data-stu-id="70931-230">OIDC Metadata URL</span></span> | <span data-ttu-id="70931-231">Il doit être au format https \: //login.microsoftonline.com/« tenandId »/.well-known/OpenID-configuration</span><span class="sxs-lookup"><span data-stu-id="70931-231">This must be in the form https\://login.microsoftonline.com/"tenandId"/.well-known/openid-configuration</span></span> <br/><span data-ttu-id="70931-232">Remplacez « tenantID » par l’ID d’annuaire (locataire) de l’étape 1 (sans les guillemets).</span><span class="sxs-lookup"><span data-stu-id="70931-232">Replace "tenantID" with Directory (tenant) ID from step 1 (without quotes).</span></span>
<span data-ttu-id="70931-233">Durée de vie du cache de configuration OIDC</span><span class="sxs-lookup"><span data-stu-id="70931-233">OIDC Configuration Cache Life Span</span></span> |  <span data-ttu-id="70931-234">120</span><span class="sxs-lookup"><span data-stu-id="70931-234">120</span></span>
<span data-ttu-id="70931-235">Application</span><span class="sxs-lookup"><span data-stu-id="70931-235">Application</span></span> | <span data-ttu-id="70931-236">Global</span><span class="sxs-lookup"><span data-stu-id="70931-236">Global</span></span>
<span data-ttu-id="70931-237">Revendication utilisateur</span><span class="sxs-lookup"><span data-stu-id="70931-237">User Claim</span></span> | <span data-ttu-id="70931-238">sub</span><span class="sxs-lookup"><span data-stu-id="70931-238">sub</span></span>
<span data-ttu-id="70931-239">Champ utilisateur</span><span class="sxs-lookup"><span data-stu-id="70931-239">User Field</span></span> | <span data-ttu-id="70931-240">ID utilisateur</span><span class="sxs-lookup"><span data-stu-id="70931-240">User ID</span></span>
<span data-ttu-id="70931-241">Activer la vérification de revendication JTI</span><span class="sxs-lookup"><span data-stu-id="70931-241">Enable JTI claim verification</span></span> | <span data-ttu-id="70931-242">Désactivé</span><span class="sxs-lookup"><span data-stu-id="70931-242">Disabled</span></span>

5. <span data-ttu-id="70931-243">Cliquez sur envoyer et mettez à jour le formulaire d’entité OIDC OAuth.</span><span class="sxs-lookup"><span data-stu-id="70931-243">Click Submit and Update the OAuth OIDC Entity form.</span></span>

###### <a name="step-5-create-a-servicenow-account"></a><span data-ttu-id="70931-244">Étape 5 : créer un compte ServiceNow</span><span class="sxs-lookup"><span data-stu-id="70931-244">Step 5: Create a ServiceNow account</span></span>

<span data-ttu-id="70931-245">Consultez les instructions pour créer un compte ServiceNow, [créez un utilisateur dans ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span><span class="sxs-lookup"><span data-stu-id="70931-245">Refer the instructions to create a ServiceNow account, [create a user in ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span></span>

<span data-ttu-id="70931-246">Le tableau suivant fournit des instructions sur la façon de renseigner l’enregistrement de compte d’utilisateur ServiceNow</span><span class="sxs-lookup"><span data-stu-id="70931-246">The following table provides guidance on how to fill out the ServiceNow user account registration</span></span>

<span data-ttu-id="70931-247">**Champ**</span><span class="sxs-lookup"><span data-stu-id="70931-247">**Field**</span></span> | <span data-ttu-id="70931-248">**Valeur recommandée**</span><span class="sxs-lookup"><span data-stu-id="70931-248">**Recommended Value**</span></span>
--- | ---
<span data-ttu-id="70931-249">ID utilisateur</span><span class="sxs-lookup"><span data-stu-id="70931-249">User ID</span></span> | <span data-ttu-id="70931-250">ID de principal de service de l’étape 3</span><span class="sxs-lookup"><span data-stu-id="70931-250">Service Principal ID from step 3</span></span>
<span data-ttu-id="70931-251">Accès au service Web uniquement</span><span class="sxs-lookup"><span data-stu-id="70931-251">Web service access only</span></span> | <span data-ttu-id="70931-252">Checked</span><span class="sxs-lookup"><span data-stu-id="70931-252">Checked</span></span>

<span data-ttu-id="70931-253">Toutes les autres valeurs peuvent être conservées par défaut.</span><span class="sxs-lookup"><span data-stu-id="70931-253">All other values can be left to default.</span></span>

###### <a name="step-6-enable-knowledge-role-for-the-servicenow-account"></a><span data-ttu-id="70931-254">Étape 6 : activer le rôle de connaissances pour le compte ServiceNow</span><span class="sxs-lookup"><span data-stu-id="70931-254">Step 6: Enable Knowledge role for the ServiceNow account</span></span>

<span data-ttu-id="70931-255">Accédez au compte ServiceNow que vous avez créé avec l’ID de principal ServiceNow en tant qu’ID d’utilisateur et attribuez le rôle de connaissances.</span><span class="sxs-lookup"><span data-stu-id="70931-255">Access the ServiceNow account you created with ServiceNow Principal ID as User ID and assign the knowledge role.</span></span> <span data-ttu-id="70931-256">Vous trouverez des instructions sur l’affectation d’un rôle à un compte ServiceNow ici, ainsi [qu’un rôle à un utilisateur](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="70931-256">Instructions to assigning a role to a ServiceNow account can be found here, [assign a role to a user](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span>

<span data-ttu-id="70931-257">Utilisez ID de l’application comme ID client (de l’étape 1) et clé secrète client (à partir de l’étape 2) de l’Assistant de configuration du centre d’administration pour s’authentifier auprès de votre instance ServiceNow à l’aide d’Azure AD OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="70931-257">Use Application ID as Client ID (from step 1), and Client secret (from step 2) in admin center configuration wizard to authenticate to your ServiceNow instance using Azure AD OpenID Connect.</span></span>

## <a name="filter-data"></a><span data-ttu-id="70931-258">Filtrer les données</span><span class="sxs-lookup"><span data-stu-id="70931-258">Filter data</span></span>

<span data-ttu-id="70931-259">Avec une chaîne de requête ServiceNow, vous pouvez spécifier des conditions pour la synchronisation des articles.</span><span class="sxs-lookup"><span data-stu-id="70931-259">With a ServiceNow query string, you can specify conditions for syncing articles.</span></span> <span data-ttu-id="70931-260">Il s’agit d’une clause **Where** d’une instruction **SQL SELECT** .</span><span class="sxs-lookup"><span data-stu-id="70931-260">It's like a **Where** clause in a **SQL Select** statement.</span></span> <span data-ttu-id="70931-261">Par exemple, vous pouvez choisir d’indexer uniquement les articles publiés et actifs.</span><span class="sxs-lookup"><span data-stu-id="70931-261">For example, you can choose to index only articles that are published and active.</span></span> <span data-ttu-id="70931-262">Pour en savoir plus sur la création de votre propre chaîne de requête, voir [générer une chaîne de requête codée à l’aide d’un filtre](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span><span class="sxs-lookup"><span data-stu-id="70931-262">To learn about creating your own query string, see [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="70931-263">Gérer les autorisations de recherche</span><span class="sxs-lookup"><span data-stu-id="70931-263">Manage search permissions</span></span>

<span data-ttu-id="70931-264">Le connecteur ServiceNow prend en charge les autorisations de recherche visibles pour **tous** **les utilisateurs ou uniquement les personnes ayant accès à cette source de données**.</span><span class="sxs-lookup"><span data-stu-id="70931-264">The ServiceNow connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="70931-265">Les données indexées apparaissent dans les résultats de la recherche et sont visibles par tous les utilisateurs de l’organisation ou des utilisateurs qui y ont accès respectivement.</span><span class="sxs-lookup"><span data-stu-id="70931-265">Indexed data appears in the search results and is visible to all users in the organization or users who have access to them respectively.</span></span> <span data-ttu-id="70931-266">Le connecteur ServiceNow prend en charge les autorisations par défaut des critères utilisateur sans les scripts avancés.</span><span class="sxs-lookup"><span data-stu-id="70931-266">ServiceNow Connector supports default user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="70931-267">Lorsque le connecteur rencontre un critère utilisateur avec un script avancé, toutes les données utilisant ce critère utilisateur ne sont pas affichées dans les résultats de la recherche.</span><span class="sxs-lookup"><span data-stu-id="70931-267">When the connector encounters a user criteria with advanced script, all data using that user criteria will not be showed in search results.</span></span>

<span data-ttu-id="70931-268">Si vous choisissez **uniquement des personnes ayant accès à cette source de données**, vous devez préciser si votre instance ServiceNow dispose d’utilisateurs disposant d’Azure Active Directory (AAD) ou d’utilisateurs non AAD.</span><span class="sxs-lookup"><span data-stu-id="70931-268">If you choose **Only people with access to this data source**, you need to further choose whether your ServiceNow instance has Azure Active Directory (AAD) provisioned users or Non-AAD users.</span></span>

>[!NOTE]
><span data-ttu-id="70931-269">Si vous choisissez AAD comme type de source d’identité, vérifiez que vous affectez la propriété source UPN à la propriété e-mail ciblé dans ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="70931-269">If you choose AAD as the type of identity source, make sure you are assigning UPN source property to email targeted property in ServiceNow.</span></span> <span data-ttu-id="70931-270">Pour vérifier ou modifier vos mappages, reportez-vous à la rubrique [Customizing User Provisioning attribute-Mappings for Saas applications in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/app-provisioning/customize-application-attributes).</span><span class="sxs-lookup"><span data-stu-id="70931-270">To verify or change your mappings, see [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/app-provisioning/customize-application-attributes).</span></span>

<span data-ttu-id="70931-271">Si vous avez choisi d’une liste de contrôle d’accès à partir de votre instance ServiceNow et que vous avez sélectionné « non-AAD » pour le type d’identité, voir [mapper vos identités non Azure ad](map-non-aad.md) pour obtenir des instructions sur le mappage des identités.</span><span class="sxs-lookup"><span data-stu-id="70931-271">If you chose to ingest an ACL from your ServiceNow instance and selected "non-AAD" for the identity type see [Map your non-Azure AD Identities](map-non-aad.md) for instructions on mapping the identities.</span></span>

## <a name="assign-property-labels"></a><span data-ttu-id="70931-272">Affecter des étiquettes de propriété</span><span class="sxs-lookup"><span data-stu-id="70931-272">Assign property labels</span></span>

<span data-ttu-id="70931-273">Vous pouvez affecter une propriété source à chaque étiquette en choisissant dans un menu d’options.</span><span class="sxs-lookup"><span data-stu-id="70931-273">You can assign a source property to each label by choosing from a menu of options.</span></span> <span data-ttu-id="70931-274">Si cette étape n’est pas obligatoire, le fait d’avoir des étiquettes de propriété améliore la pertinence de la recherche et garantit des résultats de recherche plus précis pour les utilisateurs finaux.</span><span class="sxs-lookup"><span data-stu-id="70931-274">While this step is not mandatory, having some property labels will improve the search relevance and ensure more accurate search results for end users.</span></span>

## <a name="manage-schema"></a><span data-ttu-id="70931-275">Gérer le schéma</span><span class="sxs-lookup"><span data-stu-id="70931-275">Manage schema</span></span>

<span data-ttu-id="70931-276">Dans l' **écran gérer le schéma** , vous avez la possibilité de modifier les attributs de schéma (**Queryable**, pouvant faire l’objet d’une **recherche**, l' **extraction** et l' **refinable**) associés aux propriétés, d’ajouter des alias facultatifs et de choisir la propriété **content** .</span><span class="sxs-lookup"><span data-stu-id="70931-276">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, **retrievable**, and **refinable**) associated with the properties, add optional aliases, and choose the **Content** property.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="70931-277">Définir la planification d’actualisation</span><span class="sxs-lookup"><span data-stu-id="70931-277">Set the refresh schedule</span></span>

<span data-ttu-id="70931-278">Le connecteur ServiceNow prend en charge les planifications d’actualisation pour les analyses complètes et incrémentielles.</span><span class="sxs-lookup"><span data-stu-id="70931-278">The ServiceNow connector supports refresh schedules for both full and incremental crawls.</span></span> <span data-ttu-id="70931-279">Nous vous recommandons de définir les deux.</span><span class="sxs-lookup"><span data-stu-id="70931-279">We recommend that you set both.</span></span>

<span data-ttu-id="70931-280">Une planification d’analyse complète recherche les articles supprimés qui ont été précédemment synchronisés avec l’index Microsoft Search et les articles qui se sont déplacés du filtre de synchronisation.</span><span class="sxs-lookup"><span data-stu-id="70931-280">A full crawl schedule finds deleted articles that were previously synced to the Microsoft Search index and any articles that moved out of the sync filter.</span></span> <span data-ttu-id="70931-281">Lorsque vous vous connectez pour la première fois à ServiceNow, une analyse complète est exécutée pour synchroniser tous les Articles de la base de connaissances.</span><span class="sxs-lookup"><span data-stu-id="70931-281">When you first connect to ServiceNow, a full crawl runs to sync all the knowledge-base articles.</span></span> <span data-ttu-id="70931-282">Pour synchroniser de nouveaux éléments et effectuer des mises à jour, vous devez planifier des analyses incrémentielles.</span><span class="sxs-lookup"><span data-stu-id="70931-282">To sync new items and make updates, you need to schedule incremental crawls.</span></span>

<span data-ttu-id="70931-283">La valeur par défaut recommandée est d’un jour pour une analyse complète et de quatre heures pour une analyse incrémentielle.</span><span class="sxs-lookup"><span data-stu-id="70931-283">The recommended default is one day for a full crawl and four hours for an incremental crawl.</span></span>
>[!NOTE]
><span data-ttu-id="70931-284">Pour les identités, seule l’analyse complète planifiée est appliquée.</span><span class="sxs-lookup"><span data-stu-id="70931-284">For identities, only full crawl scheduled will be applied.</span></span>

## <a name="review-and-publish"></a><span data-ttu-id="70931-285">Révision et publication</span><span class="sxs-lookup"><span data-stu-id="70931-285">Review and publish</span></span>

<span data-ttu-id="70931-286">Après avoir configuré votre connecteur, vous pouvez passer en revue et publier la connexion.</span><span class="sxs-lookup"><span data-stu-id="70931-286">After you configure your connector, you can review and publish the connection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="70931-287">Étapes suivantes</span><span class="sxs-lookup"><span data-stu-id="70931-287">Next steps</span></span>

<span data-ttu-id="70931-288">Une fois la connexion publiée, vous devez personnaliser la page des résultats de la recherche.</span><span class="sxs-lookup"><span data-stu-id="70931-288">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="70931-289">Pour en savoir plus sur la personnalisation des résultats de recherche, voir [personnaliser la page des résultats de la recherche](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span><span class="sxs-lookup"><span data-stu-id="70931-289">To learn about customizing search results, see [Customize the search results page](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>